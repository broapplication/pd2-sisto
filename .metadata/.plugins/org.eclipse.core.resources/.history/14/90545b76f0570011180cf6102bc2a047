package it.polito.pd2.WF.sol6.service;

import it.polito.pd2.WF.sol6.service.WorkflowUtilities.Messages;
import it.polito.pd2.WF.sol6.service.gen.GenericFault;
import it.polito.pd2.WF.sol6.service.gen.ProcessSummary;
import it.polito.pd2.WF.sol6.service.gen.UnknownCodes;
import it.polito.pd2.WF.sol6.service.gen.UnknownNames;
import it.polito.pd2.WF.sol6.service.gen.UnknownRoles;

public abstract class WorkflowUtilities {

	public static class Errors {
		public static final GenericFault SERVICE_UNAVAILABLE=new GenericFault(){{
			setErrno(1);
			setMessage(WorkflowUtilities.Messages.SERVICE_UNAVAILABLE);
		}};
		
		public static final GenericFault REQUEST_NOT_WELL_FORMED=new GenericFault(){{
			setErrno(2);
			setMessage(WorkflowUtilities.Messages.REQUEST_NOT_WELL_FORMED);
		}};
		public static final GenericFault UNKNOWN_NAME=new GenericFault(){{
			setErrno(3);
			setMessage(WorkflowUtilities.Messages.UNKNOWN_NAME);
		}};
		public static final GenericFault UNKNOWN_CLIENT_ID=new GenericFault(){{
			setErrno(4);
			setMessage(WorkflowUtilities.Messages.UNKNOWN_CLIENT_ID);
		}};
		
		public static UnknownNames unknownNames() {
			UnknownNames err=new UnknownNames();
			err.setMessage(WorkflowUtilities.Messages.UNKNOWN_NAMES);
			return err;
		}
		public static UnknownCodes unknownCodes() {
			UnknownCodes err=new UnknownCodes();
			err.setMessage(WorkflowUtilities.Messages.UNKNOWN_CODES);
			return err;
		}
		public static UnknownRoles unknownRoles() {
			UnknownRoles err=new UnknownRoles();
			err.setMessage(WorkflowUtilities.Messages.UNKNOWN_ROLES);
			return err;
		}
	}

	public static class Messages {
		static String settingUp(String service) {
			return service + " is setting up...";
		}
		
		public static final String SERVER_NOT_READY = "Server not ready";
		public static final String SERVICE_UNAVAILABLE = "Service unavailable";
		public static final String REQUEST_NOT_WELL_FORMED = "Request not well-formed";
		public static final String UNKNOWN_NAMES = "Unknown names";
		public static final String UNKNOWN_CODES = "Unknown codes";
		public static final String UNKNOWN_ROLES = "Unknown roles";
		public static final String UNKNOWN_NAME = "Unknown name";
		public static final String UNKNOWN_CODE = "Unknown code";
		public static final String UNKNOWN_ROLE = "Unknown role";
		public static final String UNKNOWN_CLIENT_ID = "Unknown client id";
		public static final String REQUEST_ALREADY_SERVER = "Request already server";
	
		//log messages
		static String SETTING_UP_ERR = "Errore nel caricamento dei servizi.";
		static final String SETTING_UP_OK = "Servizi caricati correttamente.";
		static String workflowsOk(String list) {
			return "Workflow caricati correttamente: " + list;
		}
		static final String REQUEST_WHEN_NOT_READY = "Richiesta al server non pronto.";
		
		
		
		
	}

	public static ProcessSummary duplicateProcessSummary(ProcessSummary process) {
		ProcessSummary res=new ProcessSummary();
		res.setPCode(process.getPCode());
		res.setStartTime(process.getStartTime());
		res.setWorkflowName(process.getWorkflowName());
		res.getActionStatus().addAll(process.getActionStatus());
		res.getActiveActionStatus().addAll(process.getActiveActionStatus());
		res.getAvailableActionStatus().addAll(process.getAvailableActionStatus());
		res.getTerminatedActionStatus().addAll(process.getTerminatedActionStatus());
		return res;
	}

}
