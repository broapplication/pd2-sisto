import java.net.MalformedURLException;
import java.net.URL;
import java.util.concurrent.locks.ReentrantReadWriteLock;


public class Prova {
	private Object o;
	private ReentrantReadWriteLock l;
	public Prova() {
		l=new ReentrantReadWriteLock();
		l.readLock().lock();
		l.writeLock().lock();
		System.out.println("bloccato");
		l.writeLock().unlock();
		l.readLock().unlock();
		
		o=new Object();
		synchronized (o) {
			synchronized (o) {
				System.out.println("Ciao");
				
			}
			
		}
	}

	/**
	 * @param args
	 */
	public static void main(String[] args) {
		try {
			URL u=new URL("http://www.example.com:8181/ciao");
			int a=1;
			int port = u.getPort();
			if(port == -1)
				port=80;
			
			
			URL u2 = new URL(u.getProtocol() + "://" + u.getHost() + ":" +
					Integer.toString(port+1) + u.getFile());
			System.out.println(u2.toExternalForm());
		} catch (MalformedURLException e) {
			// TODO Auto-generated catch block
			e.printStackTrace();
		}
		

	}

}
